{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\matth\\\\Documents\\\\Dev\\\\MarioMusic\\\\Mario-Music-MERN\\\\ui\\\\src\\\\components\\\\LoginForm.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useGlobal } from 'reactn';\nimport { Navigate, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst LoginForm = _ref => {\n  _s();\n\n  let {\n    animateToast\n  } = _ref;\n  const [logginLoad, setLogginLoad] = useGlobal(\"logginLoad\");\n  const [token, setToken] = useGlobal(\"token\");\n  const [user, setUser] = useGlobal(\"user\");\n  const [error, setError] = useState(\"\");\n  const [loggedIn, setloggedIn] = useState(false);\n  const [formState, setFormState] = useState({\n    username: \"\",\n    password: \"\"\n  });\n\n  const handleChange = e => {\n    setFormState({ ...formState,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      const {\n        data\n      } = await axios.post(\"http://localhost:1337/auth/login\", formState);\n      setUser(data.user);\n      setToken(data.token);\n      setloggedIn(true);\n      setLogginLoad(!logginLoad);\n    } catch (err) {\n      let param = 'Invalid credentials  ';\n      animateToast(param, true);\n      console.log(err);\n      setError(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [loggedIn && /*#__PURE__*/_jsxDEV(Navigate, {\n      replace: true,\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 26\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"flex mt-0 md:mt-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"ml-1 pl-2 pr-2 md:pt-1 h-[1.5rem] md:h-[2.5rem] md:text-2xl text-center\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"w-[6rem] md:w-[15rem] pl-2 h-[2.5rem] md:h-[2.5rem] border-2 border-black rounded-l-lg\",\n        type: \"text\",\n        name: \"username\",\n        placeholder: \"Username\",\n        onChange: handleChange,\n        value: formState.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"w-[6rem] md:w-[15rem] pl-2 h-[2.5rem] md:h-[2.5rem] border-2 border-black\",\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"Password\",\n        onChange: handleChange,\n        value: formState.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \" pl-2 pr-2 text-[.5rem]  md:pt-1 md:text-2xl text-center  bg-green-500 border-2 border-black rounded-r-lg\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: \" pl-[1rem] md:ml-16 md:pl-2  md:pt-1 md:text-2xl text-center  border-black rounded-lg hover:text-white\",\n        to: \"/signup\",\n        children: \" Signup\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(LoginForm, \"BqhmkSMeQCrTpjATLTUJ0r5TNEg=\", false, function () {\n  return [useGlobal, useGlobal, useGlobal];\n});\n\n_c = LoginForm;\nexport default LoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["useState","useGlobal","Navigate","Link","axios","LoginForm","animateToast","logginLoad","setLogginLoad","token","setToken","user","setUser","error","setError","loggedIn","setloggedIn","formState","setFormState","username","password","handleChange","e","target","name","value","handleSubmit","preventDefault","data","post","err","param","console","log"],"sources":["C:/Users/matth/Documents/Dev/MarioMusic/Mario-Music-MERN/ui/src/components/LoginForm.jsx"],"sourcesContent":["import { useState, useGlobal } from 'reactn'\r\nimport { Navigate, Link } from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\n\r\nconst LoginForm = ({animateToast}) => {\r\n    const [logginLoad, setLogginLoad] = useGlobal(\"logginLoad\")\r\n    const [token, setToken] = useGlobal(\"token\")\r\n    const [user, setUser] = useGlobal(\"user\")\r\n    const [error, setError ] = useState(\"\")\r\n    const [loggedIn, setloggedIn ] = useState(false)\r\n    const [formState, setFormState] = useState({\r\n        username: \"\",\r\n        password: \"\",\r\n    })\r\n\r\n    const handleChange = (e) => {\r\n        setFormState({\r\n            ...formState,\r\n            [e.target.name] : e.target.value,\r\n        })\r\n    }\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n        try {\r\n            const { data } = await axios.post(\"http://localhost:1337/auth/login\", formState)\r\n            setUser(data.user)\r\n            setToken(data.token)\r\n            setloggedIn(true)\r\n            setLogginLoad(!logginLoad)\r\n        }\r\n        catch (err){\r\n            let param = 'Invalid credentials  '\r\n            animateToast(param, true)\r\n            console.log(err)\r\n            setError(err)\r\n        }\r\n        \r\n    }\r\n\r\n    return(\r\n        <>\r\n            {loggedIn && <Navigate replace to=\"/\" />}\r\n            <form onSubmit={handleSubmit} className=\"flex mt-0 md:mt-6\">\r\n                <h1 className='ml-1 pl-2 pr-2 md:pt-1 h-[1.5rem] md:h-[2.5rem] md:text-2xl text-center'>Login</h1>\r\n                <input className='w-[6rem] md:w-[15rem] pl-2 h-[2.5rem] md:h-[2.5rem] border-2 border-black rounded-l-lg'\r\n                    type=\"text\" \r\n                    name=\"username\" \r\n                    placeholder=\"Username\" \r\n                    onChange={handleChange} \r\n                    value={formState.username} />\r\n                <input  className='w-[6rem] md:w-[15rem] pl-2 h-[2.5rem] md:h-[2.5rem] border-2 border-black'\r\n                    type=\"password\" \r\n                    name=\"password\" \r\n                    placeholder=\"Password\" \r\n                    onChange={handleChange} \r\n                    value={formState.password}/>\r\n                <button className=' pl-2 pr-2 text-[.5rem]  md:pt-1 md:text-2xl text-center  bg-green-500 border-2 border-black rounded-r-lg'>Login</button>\r\n                <Link className=' pl-[1rem] md:ml-16 md:pl-2  md:pt-1 md:text-2xl text-center  border-black rounded-lg hover:text-white' to=\"/signup\"> Signup</Link>\r\n            </form>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\n\r\nexport default LoginForm"],"mappings":"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"},"metadata":{},"sourceType":"module"}