{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\matth\\\\Documents\\\\Dev\\\\MarioMusic\\\\Mario-Music-MERN\\\\ui\\\\src\\\\components\\\\SongList.jsx\",\n    _s = $RefreshSig$();\n\nimport { setGlobal, useState, useGlobal, useEffect } from 'reactn';\nimport NameForm from './NameForm';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SongList = _ref => {\n  _s();\n\n  let {\n    notes,\n    setNotes,\n    arraysLists,\n    noteLength,\n    instrumentLists,\n    setCopyArraysLists,\n    setCopyNoteLength,\n    setCopyInstrumentLists\n  } = _ref;\n  const [token, setToken] = useGlobal(\"token\");\n  const [newSong, setNewSong] = useGlobal(\"newSong\"); // const [songName, setSongName] = useGlobal(\"songName\")\n\n  const [songs, setSongs] = useState('');\n  const [currentInstrument, setCurrentInstrument] = useGlobal(\"currentInstrument\");\n  const [logginLoad, setLogginLoad] = useGlobal(\"logginLoad\");\n  const [songList, setsongList] = useGlobal(\"songList\");\n  useEffect(() => {\n    getSongs();\n  }, [logginLoad]);\n\n  const getSongs = async () => {\n    console.log('made it?');\n    const res = await axios.get(\"http://localhost:1337/song/\", {\n      headers: {\n        \"Authorization\": `Bearer ${token}`\n      }\n    });\n    setSongs(res.data);\n  };\n\n  let nonStateName = '';\n\n  const saveSong = async () => {\n    nonStateName = document.getElementById('songNameForm').value;\n    console.log(\"PRE Al2\", arraysLists); // console.log(\"LENGTH\", noteLength)\n    // console.log(\"IL\", instrumentLists)\n\n    try {\n      await axios.post(\"http://localhost:1337/song/\", {\n        songName: nonStateName,\n        user: \"629845e4c1fe79a6d09a4117\",\n        noteArray: arraysLists,\n        noteLength: noteLength,\n        instruments: instrumentLists,\n        notes: notes\n      }, {\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      });\n    } catch (err) {\n      return \"Invalid song info\";\n    } // console.log(\"NA\", arraysLists)\n\n\n    getSongs();\n  };\n\n  const loadSong = currentSong => {\n    setNewSong(true); // console.log(\"NS\",newSong)\n    // console.log(\"ARRAYS\")\n    // console.log(token)\n    // console.log(arraysLists)\n    // console.log(noteLength)\n    // console.log(\"IL\", instrumentLists)\n\n    try {\n      axios.get(`http://localhost:1337/song/${currentSong}/`, {\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      }).then(res => {\n        // console.log(\"AL\", res.data.noteArray)\n        setCopyArraysLists(res.data.noteArray);\n        setCopyNoteLength(res.data.noteLength);\n        setCopyInstrumentLists(res.data.instruments);\n        setNotes(res.data.notes);\n      });\n    } catch (err) {\n      return \"Invalid song info\";\n    }\n  }; // const selectSong = (song) => {\n  //   console.log(song)\n  //   setSongName(song)\n  // }\n\n\n  const deleteSong = async song => {\n    try {\n      await axios.delete(`http://localhost:1337/song/${song}`, {\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      });\n    } catch (err) {\n      console.error(err);\n    }\n\n    getSongs();\n  };\n\n  const logIt = () => {\n    console.log(\"Notes\", arraysLists);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-[5rem] flex justify-between items-center w-full border-2 border-red-500\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: saveSong,\n        children: \"Save Song\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NameForm, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"pr-5\",\n        onClick: loadSong,\n        children: \"Load Song\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"songsList\",\n        className: \"h-[5rem] w-[35rem] bg-red-700 overflow-y-scroll\",\n        children: songs && songs.map(song => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\" \", song.songName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"pl-3\",\n            onClick: () => loadSong(song.songName),\n            children: \"Load\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"pl-3\",\n            onClick: () => deleteSong(song.songName),\n            children: \"delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SongList, \"kj7acn7kw9zMmRH6TrASu8o/5lo=\", false, function () {\n  return [useGlobal, useGlobal, useGlobal, useGlobal, useGlobal];\n});\n\n_c = SongList;\nexport default SongList;\n\nvar _c;\n\n$RefreshReg$(_c, \"SongList\");","map":{"version":3,"names":["setGlobal","useState","useGlobal","useEffect","NameForm","axios","SongList","notes","setNotes","arraysLists","noteLength","instrumentLists","setCopyArraysLists","setCopyNoteLength","setCopyInstrumentLists","token","setToken","newSong","setNewSong","songs","setSongs","currentInstrument","setCurrentInstrument","logginLoad","setLogginLoad","songList","setsongList","getSongs","console","log","res","get","headers","data","nonStateName","saveSong","document","getElementById","value","post","songName","user","noteArray","instruments","err","loadSong","currentSong","then","deleteSong","song","delete","error","logIt","map"],"sources":["C:/Users/matth/Documents/Dev/MarioMusic/Mario-Music-MERN/ui/src/components/SongList.jsx"],"sourcesContent":["import { setGlobal, useState, useGlobal, useEffect } from 'reactn'\r\nimport NameForm from './NameForm'\r\nimport axios from \"axios\"\r\n\r\nconst SongList = ({notes, setNotes, arraysLists, noteLength, instrumentLists, setCopyArraysLists, setCopyNoteLength, setCopyInstrumentLists }) => {\r\n    const [token, setToken] = useGlobal(\"token\")\r\n    const [newSong, setNewSong] = useGlobal(\"newSong\")\r\n    // const [songName, setSongName] = useGlobal(\"songName\")\r\n    const [songs, setSongs] = useState('')\r\n    const [currentInstrument, setCurrentInstrument ] = useGlobal(\"currentInstrument\")\r\n    const [logginLoad, setLogginLoad] = useGlobal(\"logginLoad\")\r\n    const [songList, setsongList ] = useGlobal(\"songList\")\r\n\r\n\r\n    useEffect(() => {\r\n      getSongs()\r\n    }, [logginLoad])\r\n\r\n    const getSongs = async () =>{\r\n      console.log('made it?')\r\n      const res = await axios.get(\"http://localhost:1337/song/\", {\r\n        headers: {\r\n          \"Authorization\": `Bearer ${token}`\r\n        }\r\n      })\r\n      setSongs(res.data)\r\n\r\n    }\r\n\r\n    let nonStateName = ''\r\n\r\n    const saveSong = async () => {\r\n          nonStateName = document.getElementById('songNameForm').value\r\n          console.log(\"PRE Al2\", arraysLists)\r\n          // console.log(\"LENGTH\", noteLength)\r\n          // console.log(\"IL\", instrumentLists)\r\n          try{\r\n            await axios.post(\"http://localhost:1337/song/\", {\r\n              songName: nonStateName,\r\n              user: \"629845e4c1fe79a6d09a4117\",\r\n              noteArray: arraysLists,\r\n              noteLength: noteLength,\r\n              instruments: instrumentLists,\r\n              notes: notes,\r\n            },\r\n            {\r\n              headers: {\r\n                \"Authorization\": `Bearer ${token}`\r\n              }\r\n            })\r\n          }\r\n          catch (err){\r\n            return \"Invalid song info\"\r\n          }\r\n          // console.log(\"NA\", arraysLists)\r\n          getSongs()\r\n          \r\n      }\r\n\r\n      const loadSong = (currentSong) => {\r\n        setNewSong(true)\r\n        // console.log(\"NS\",newSong)\r\n        // console.log(\"ARRAYS\")\r\n        // console.log(token)\r\n        // console.log(arraysLists)\r\n        // console.log(noteLength)\r\n        // console.log(\"IL\", instrumentLists)\r\n        try{\r\n            axios.get(`http://localhost:1337/song/${currentSong}/`, {\r\n              headers: {\r\n                \"Authorization\": `Bearer ${token}`\r\n              }\r\n            })\r\n            .then(res => {\r\n                // console.log(\"AL\", res.data.noteArray)\r\n                setCopyArraysLists(res.data.noteArray)\r\n                setCopyNoteLength(res.data.noteLength)\r\n                setCopyInstrumentLists(res.data.instruments)\r\n                setNotes(res.data.notes)\r\n            })\r\n\r\n        }\r\n        catch (err){\r\n          return \"Invalid song info\"\r\n        }\r\n      }\r\n\r\n      // const selectSong = (song) => {\r\n      //   console.log(song)\r\n      //   setSongName(song)\r\n      // }\r\n\r\n      const deleteSong = async (song) => {\r\n        try {\r\n         await axios.delete(`http://localhost:1337/song/${song}` , {\r\n            headers: {\r\n              \"Authorization\": `Bearer ${token}`\r\n            }\r\n          })\r\n        }\r\n        catch (err){\r\n          console.error(err)\r\n        }\r\n        \r\n        getSongs()\r\n      }\r\n\r\n      const logIt = () => {\r\n        console.log(\"Notes\", arraysLists)\r\n      }\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div className='h-[5rem] flex justify-between items-center w-full border-2 border-red-500'>\r\n \r\n      <div>\r\n        <button onClick={saveSong}>Save Song</button>\r\n        <NameForm />\r\n      </div>\r\n\r\n      <div className='flex'>\r\n        <button className='pr-5' onClick={loadSong}>Load Song</button>\r\n        <div id=\"songsList\"  className='h-[5rem] w-[35rem] bg-red-700 overflow-y-scroll'>\r\n\r\n          {songs && songs.map(song => \r\n            <div className='flex'>\r\n              <p > {song.songName}</p>\r\n              <button className=\"pl-3\" onClick={() => loadSong(song.songName)}>Load</button>\r\n              <button className=\"pl-3\" onClick={() => deleteSong(song.songName)}>delete</button>\r\n            </div>\r\n          )}\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SongList"],"mappings":"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"},"metadata":{},"sourceType":"module"}