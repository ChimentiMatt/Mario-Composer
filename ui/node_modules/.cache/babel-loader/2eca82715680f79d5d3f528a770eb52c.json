{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\matth\\\\Documents\\\\Dev\\\\MarioMusic\\\\Mario-Music-MERN\\\\ui\\\\src\\\\components\\\\SongList.jsx\",\n    _s = $RefreshSig$();\n\nimport { setGlobal, useState, useGlobal, useEffect } from 'reactn';\nimport NameForm from './NameForm';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst SongList = _ref => {\n  _s();\n\n  let {\n    notes,\n    setNotes,\n    arraysLists,\n    noteLength,\n    instrumentLists,\n    setCopyArraysLists,\n    setCopyNoteLength,\n    setCopyInstrumentLists\n  } = _ref;\n  const [token, setToken] = useGlobal(\"token\");\n  const [newSong, setNewSong] = useGlobal(\"newSong\");\n  const [songName, setSongName] = useGlobal(\"songName\");\n  const [songs, setSongs] = useState('');\n  const [currentInstrument, setCurrentInstrument] = useGlobal(\"currentInstrument\");\n  useEffect(() => {\n    getSongs();\n  }, []);\n\n  const getSongs = async () => {\n    console.log('made it?');\n    const res = await axios.get(\"http://localhost:1337/song/\");\n    setSongs(res.data);\n  };\n\n  const saveSong = () => {\n    // console.log(\"^^^^^^^^\", notes)\n    console.log(notes); // console.log(\"ARRAYS\")\n    // console.log(token)\n    // console.log(arraysLists)\n    // console.log(\"LENGTH\", noteLength)\n    // console.log(\"IL\", instrumentLists)\n\n    try {\n      axios.post(\"http://localhost:1337/song/\", {\n        songName: songName,\n        user: \"629845e4c1fe79a6d09a4117\",\n        noteArray: arraysLists,\n        noteLength: noteLength,\n        instruments: instrumentLists,\n        notes: notes\n      }, {\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      });\n    } catch (err) {\n      return \"Invalid song info\";\n    }\n  };\n\n  const loadSong = () => {\n    console.log(\"^^^^^^^^\", notes);\n    setNewSong(true); // console.log(\"NS\",newSong)\n    // console.log(\"ARRAYS\")\n    // console.log(token)\n    // console.log(arraysLists)\n    // console.log(noteLength)\n    // console.log(\"IL\", instrumentLists)\n\n    try {\n      axios.get(`http://localhost:1337/song/${songName}/`).then(res => {\n        setCopyArraysLists(res.data.noteArray);\n        setCopyNoteLength(res.data.noteLength);\n        setCopyInstrumentLists(res.data.instruments);\n        setNotes(res.data.notes);\n      });\n    } catch (err) {\n      return \"Invalid song info\";\n    }\n  };\n\n  const selectSong = song => {\n    console.log(song);\n    setSongName(song);\n  };\n\n  const deleteSong = song => {\n    try {\n      axios.delete(`http://localhost:1337/song/${song}`, {\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      });\n    } catch (err) {\n      console.error(err);\n    }\n\n    getSongs();\n  };\n\n  const logIt = () => {\n    console.log(\"SONG\", songs);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: saveSong,\n      children: \"Save Song\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: loadSong,\n      children: \"load Song\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: logIt,\n      children: \"LOG IT\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(NameForm, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }, this), songs && songs.map(song => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        onClick: () => selectSong(song.songName),\n        children: [\" \", song.songName, \" -\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => deleteSong(song.songName),\n        children: \"delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 81\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }, this))]\n  }, void 0, true);\n};\n\n_s(SongList, \"1xVXHPhsYaQ4C74AJ7LXN7ijvN4=\", false, function () {\n  return [useGlobal, useGlobal, useGlobal, useGlobal];\n});\n\n_c = SongList;\nexport default SongList;\n\nvar _c;\n\n$RefreshReg$(_c, \"SongList\");","map":{"version":3,"names":["setGlobal","useState","useGlobal","useEffect","NameForm","axios","SongList","notes","setNotes","arraysLists","noteLength","instrumentLists","setCopyArraysLists","setCopyNoteLength","setCopyInstrumentLists","token","setToken","newSong","setNewSong","songName","setSongName","songs","setSongs","currentInstrument","setCurrentInstrument","getSongs","console","log","res","get","data","saveSong","post","user","noteArray","instruments","headers","err","loadSong","then","selectSong","song","deleteSong","delete","error","logIt","map"],"sources":["C:/Users/matth/Documents/Dev/MarioMusic/Mario-Music-MERN/ui/src/components/SongList.jsx"],"sourcesContent":["import { setGlobal, useState, useGlobal, useEffect } from 'reactn'\r\nimport NameForm from './NameForm'\r\nimport axios from \"axios\"\r\n\r\nconst SongList = ({notes, setNotes, arraysLists, noteLength, instrumentLists, setCopyArraysLists, setCopyNoteLength, setCopyInstrumentLists }) => {\r\n    const [token, setToken] = useGlobal(\"token\")\r\n    const [newSong, setNewSong] = useGlobal(\"newSong\")\r\n    const [songName, setSongName] = useGlobal(\"songName\")\r\n    const [songs, setSongs] = useState('')\r\n    const [currentInstrument, setCurrentInstrument ] = useGlobal(\"currentInstrument\")\r\n\r\n\r\n    useEffect(() => {\r\n      getSongs()\r\n    }, [])\r\n\r\n    const getSongs = async () =>{\r\n      console.log('made it?')\r\n      const res = await axios.get(\"http://localhost:1337/song/\")\r\n      setSongs(res.data)\r\n\r\n    }\r\n\r\n\r\n    const saveSong = () => {\r\n      // console.log(\"^^^^^^^^\", notes)\r\n        console.log(notes)\r\n        // console.log(\"ARRAYS\")\r\n        // console.log(token)\r\n        // console.log(arraysLists)\r\n        // console.log(\"LENGTH\", noteLength)\r\n        // console.log(\"IL\", instrumentLists)\r\n        try{\r\n          axios.post(\"http://localhost:1337/song/\", {\r\n            songName: songName,\r\n            user: \"629845e4c1fe79a6d09a4117\",\r\n            noteArray: arraysLists,\r\n            noteLength: noteLength,\r\n            instruments: instrumentLists,\r\n            notes: notes,\r\n          },\r\n          {\r\n            headers: {\r\n              \"Authorization\": `Bearer ${token}`\r\n            }\r\n          })\r\n        }\r\n        catch (err){\r\n          return \"Invalid song info\"\r\n        }\r\n      }\r\n\r\n      const loadSong = () => {\r\n        console.log(\"^^^^^^^^\", notes)\r\n\r\n        setNewSong(true)\r\n        // console.log(\"NS\",newSong)\r\n        // console.log(\"ARRAYS\")\r\n        // console.log(token)\r\n        // console.log(arraysLists)\r\n        // console.log(noteLength)\r\n        // console.log(\"IL\", instrumentLists)\r\n        try{\r\n            axios.get(`http://localhost:1337/song/${songName}/`)\r\n            .then(res => {\r\n                setCopyArraysLists(res.data.noteArray)\r\n                setCopyNoteLength(res.data.noteLength)\r\n                setCopyInstrumentLists(res.data.instruments)\r\n                setNotes(res.data.notes)\r\n            })\r\n\r\n        }\r\n        catch (err){\r\n          return \"Invalid song info\"\r\n        }\r\n    \r\n      }\r\n\r\n      const selectSong = (song) => {\r\n        console.log(song)\r\n        setSongName(song)\r\n      }\r\n\r\n      const deleteSong = (song) => {\r\n        try {\r\n         axios.delete(`http://localhost:1337/song/${song}` , {\r\n            headers: {\r\n              \"Authorization\": `Bearer ${token}`\r\n          }\r\n          })\r\n        }\r\n        catch (err){\r\n          console.error(err)\r\n        }\r\n        getSongs()\r\n      }\r\n\r\n\r\n      const logIt = () => {\r\n        console.log(\"SONG\", songs)\r\n      }\r\n\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n        <button onClick={saveSong}>Save Song</button>\r\n        <button onClick={loadSong}>load Song</button>\r\n        <button onClick={logIt}>LOG IT</button>\r\n        < NameForm />\r\n        {songs && songs.map(song => \r\n          <div className='flex'>\r\n            <p onClick={() => selectSong(song.songName)}> {song.songName} -</p> <button onClick={() => deleteSong(song.songName)}>delete</button>\r\n          </div>\r\n        )}\r\n\r\n\r\n\r\n        \r\n    </>\r\n  )\r\n}\r\n\r\nexport default SongList"],"mappings":"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"},"metadata":{},"sourceType":"module"}